<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kalkulator Pasal Mandalika RP</title>

  <style>

    :root {
  --police-dark: #0f172a;
  --police-blue: #1e40af;
  --police-blue-soft: #e0e7ff;
  --police-accent: #facc15;
  --police-bg: #f8fafc;
}

   body {
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #0f172a, #1e3a8a);
  margin: 0;
  padding: 20px;
  color: var(--police-dark);
}

.container {
  max-width: 900px;
  margin: auto;
  background: var(--police-bg);
  border-radius: 18px;
  padding: 20px;
  box-shadow: 0 20px 45px rgba(0,0,0,0.35);
  animation: pageIn 0.6s ease;
}

@keyframes pageIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

h1 {
  text-align: center;
  color: var(--police-blue);
  font-weight: 700;
  letter-spacing: 0.6px;
  margin-bottom: 20px;
}

h1::before {
  content: "üöì ";
}

.pasal {
  border-radius: 14px;
  padding: 14px;
  margin-bottom: 14px;
  display: flex;
  gap: 12px;
  background: white;
  border-left: 5px solid var(--police-blue);
  cursor: pointer;

  animation: pasalIn 0.35s cubic-bezier(.4,0,.2,1);
  transition:
    transform 0.2s ease,
    box-shadow 0.2s ease,
    background 0.2s ease;
}

/* masuk */
@keyframes pasalIn {
  from {
    opacity: 0;
    transform: translateY(14px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* hover */
.pasal:hover {
  transform: translateY(-3px);
  box-shadow: 0 12px 28px rgba(0,0,0,0.12);
}

/* aktif */
.pasal.active {
  background: linear-gradient(
    135deg,
    var(--police-blue-soft),
    #ffffff
  );
  border-left-color: var(--police-accent);
}

.kode {
  font-weight: bold;
  color: var(--police-blue);
}

.kategori {
  font-size: 13px;
  color: #475569;
}

.harga {
  margin-top: 6px;
  font-size: 14px;
  color: var(--police-dark);
}

.card {
  flex: 1;
  min-width: 200px;
  background: white;
  border-radius: 14px;
  padding: 16px;
  text-align: center;
  border-top: 4px solid var(--police-blue);
  animation: fadeUp 0.4s ease;
}

@keyframes fadeUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

button {
  padding: 10px 22px;
  border: none;
  border-radius: 12px;
  background: var(--police-blue);
  color: white;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

button:hover {
  background: #1d4ed8;
  transform: translateY(-2px);
}

button:active {
  transform: scale(0.95);
}

#pagination button.active {
  background: linear-gradient(135deg, #1e40af, #1d4ed8);
  color: white;
  box-shadow: 0 8px 18px rgba(30,64,175,0.5);
  transform: scale(1.1);
}

.toast {
  background: linear-gradient(135deg, #1e40af, #0f172a);
  color: white;
  font-weight: 600;
}

@media (max-width: 600px) {
  .pasal {
    flex-direction: column;
    gap: 6px;
  }

  .result {
    flex-direction: column;
  }

  button {
    width: 100%;
  }
}


  </style>
</head>
<body>

<div class="container">

  <h1>Kalkulator Pasal Mandalika RP</h1>

  <!-- Filter -->
  <div class="filter">
    <input type="text" id="search" placeholder="Cari pasal...">

    <select id="kategoriFilter">
      <option value="all">Semua Kategori</option>
      <option value="Ringan">Ringan</option>
      <option value="Menengah Umum">Menengah (Umum)</option>
      <option value="Menengah Minuman">Menengah (Minuman)</option>
      <option value="Menengah Narkotika">Menengah (Narkotika)</option>
      <option value="Berat">Berat</option>
      <option value="Lalu Lintas">Lalu Lintas</option>
    </select>
  </div>

  <!-- List Pasal -->
  <div id="listPasal"></div>

  <!-- Pagination -->
   <div id="list"></div>
   <div id="pagination"></div>

  <!-- Hasil -->
  <div class="result">

    <div class="card">
      <h3>Total Denda</h3>
      <p>$<span id="totalDenda">0</span></p>
    </div>

    <div class="card">
      <h3>Total Penjara</h3>
      <p><span id="totalJail">0</span> Bulan </p>
    </div>

    <div class="card">
      <h3>Total Impound</h3>
      <p><span id="totalImpound">0</span> Hari</p>
    </div>

    <div class="card">
     <h3>Pasal Terpilih</h3>
     <p style="font-size:14px; font-weight:normal;">
     <span id="listPasalTerpilih">-</span>
     </p>
    </div>

    <div class="card">
    <h3>Ringkasan RP</h3>
    <p style="font-size:13px; margin-bottom:10px;">
    <span id="ringkasanText">-</span></p>

     <button onclick="copyRingkasan()">üìã Copy /RO</button>
    </div>

<!-- Notifikasi -->
    <div id="toast" class="toast">PASAL SUDAH DICOPY, SILAHKAN KIRIM KE /RO</div>

  </div>

  <!-- Reset -->
  <div class="reset">
    <button onclick="resetAll()">Reset</button>
  </div>

  <footer>
    ¬© 2026 Mandalika RP Police System
  </footer>

</div>

<script>

    let currentPage = 1;
const itemsPerPage = 10
let selectedPasal = new Set();

// =====================
// DATA PASAL
// =====================

const pasalData = [

  // RINGAN
// ================= PASAL RINGAN =================

{
  kode: "A1",
  kategori: "Ringan",
  bidang: "Gangguan Ketertiban Umum",
  keterangan: "Keributan / Onar",
  denda: 3200,
  jail: 10,
  impound: 0
},

{
  kode: "A2",
  kategori: "Ringan",
  bidang: "Menghina Petugas Aparat Penegak Hukum",
  keterangan: "Verbal / Gestur",
  denda: 2000,
  jail: 10,
  impound: 0
},

{
  kode: "A3",
  kategori: "Ringan",
  bidang: "Tidak Patuh Perintah",
  keterangan: "Abaikan Instruksi Petugas",
  denda: 4000,
  jail: 7,
  impound: 0
},

{
  kode: "A4",
  kategori: "Ringan",
  bidang: "Memasuki Area Terlarang",
  keterangan: "Tanpa Izin",
  denda: 2000,
  jail: 10,
  impound: 0
},

{
  kode: "A5",
  kategori: "Ringan",
  bidang: "Menghalangi Polisi",
  keterangan: "Hambat Tugas",
  denda: 2100,
  jail: 7,
  impound: 0
},

{
  kode: "A6",
  kategori: "Ringan",
  bidang: "Tidak Membawa Identitas",
  keterangan: "Tidak Membawa KTP / ID",
  denda: 800,
  jail: 5,
  impound: 0
},

{
  kode: "A7",
  kategori: "Ringan",
  bidang: "Identitas Palsu",
  keterangan: "Nama / ID Palsu",
  denda: 2500,
  jail: 15,
  impound: 0
},

{
  kode: "A8",
  kategori: "Ringan",
  bidang: "Kabur Saat Diperiksa",
  keterangan: "Belum Ditahan",
  denda: 1200,
  jail: 10,
  impound: 0
},

{
  kode: "A9",
  kategori: "Ringan",
  bidang: "Provokasi Publik",
  keterangan: "Memancing Chaos",
  denda: 3200,
  jail: 12,
  impound: 0
},

{
  kode: "A10",
  kategori: "Ringan",
  bidang: "Perusakan Ringan",
  keterangan: "Properti Kecil",
  denda: 3500,
  jail: 10,
  impound: 0
},

{
  kode: "A11",
  kategori: "Ringan",
  bidang: "Membawa Alat Ilegal Ringan",
  keterangan: "Lockpick, dll",
  denda: 4000,
  jail: 15,
  impound: 0
},

{
  kode: "A12",
  kategori: "Ringan",
  bidang: "Mengganggu TKP",
  keterangan: "Rusak Bukti",
  denda: 3100,
  jail: 10,
  impound: 0
},

{
  kode: "A13",
  kategori: "Ringan",
  bidang: "Penyalahgunaan Klakson / Suara",
  keterangan: "Spam Suara",
  denda: 500,
  jail: 5,
  impound: 0
},

{
  kode: "A14",
  kategori: "Ringan",
  bidang: "Menghalangi Evakuasi",
  keterangan: "EMS / PD",
  denda: 5000,
  jail: 20,
  impound: 0
},

{
  kode: "A15",
  kategori: "Ringan",
  bidang: "Mengabaikan Panggilan Polisi",
  keterangan: "Kabur Call",
  denda: 500,
  jail: 7,
  impound: 0
},

{
  kode: "A16",
  kategori: "Ringan",
  bidang: "Perkelahian Ringan",
  keterangan: "Tanpa Senjata",
  denda: 800,
  jail: 5,
  impound: 0
},

{
  kode: "A17",
  kategori: "Ringan",
  bidang: "Merokok di Area Terlarang",
  keterangan: "Area Publik / Kantor Negara",
  denda: 800,
  jail: 5,
  impound: 0
},

{
  kode: "A18",
  kategori: "Ringan",
  bidang: "Mengganggu Pelayanan Publik",
  keterangan: "Menghambat Pelayanan PD / EMS",
  denda: 2000,
  jail: 10,
  impound: 0
},

{
  kode: "A19",
  kategori: "Ringan",
  bidang: "Membuat Laporan Palsu",
  keterangan: "Kejadian Fiktif",
  denda: 1200,
  jail: 10,
  impound: 0
},

{
  kode: "A20",
  kategori: "Ringan",
  bidang: "Penyalahgunaan Call Emergency",
  keterangan: "Spam / Prank Call Hotline",
  denda: 1200,
  jail: 10,
  impound: 0
},

{
  kode: "A21",
  kategori: "Ringan",
  bidang: "Mengganggu Proses Penangkapan",
  keterangan: "Menghalangi Penangkapan Orang Lain",
  denda: 2500,
  jail: 15,
  impound: 0
},

{
  kode: "A22",
  kategori: "Ringan",
  bidang: "Menggunakan Atribut Instansi Tanpa Izin",
  keterangan: "Seragam / Aksesoris / ID Palsu",
  denda: 5000,
  jail: 15,
  impound: 0
},

{
  kode: "A23",
  kategori: "Ringan",
  bidang: "Membawa Hewan ke Area Terlarang",
  keterangan: "Mengganggu Area Publik",
  denda: 4000,
  jail: 10,
  impound: 0
},

{
  kode: "A24",
  kategori: "Ringan",
  bidang: "Pencemaran Nama Baik Perorangan",
  keterangan: "Fitnah / Tuduhan Tanpa Bukti",
  denda: 2500,
  jail: 8,
  impound: 0
},

{
  kode: "A25",
  kategori: "Ringan",
  bidang: "Pencemaran Nama Baik Instansi",
  keterangan: "Informasi Palsu / Hoax",
  denda: 4000,
  jail: 18,
  impound: 0
},

{
  kode: "A26",
  kategori: "Ringan",
  bidang: "Memakai Atribut Tidak Senonoh di Tempat Umum",
  keterangan: "Pakaian / Aksesoris Tidak Pantas",
  denda: 5000,
  jail: 10,
  impound: 0
},

{
  kode: "A27",
  kategori: "Ringan",
  bidang: "Tindakan Tidak Senonoh di Tempat Umum",
  keterangan: "Perbuatan Asusila / Gestur Tidak Pantas",
  denda: 4000,
  jail: 15,
  impound: 0
},

  // MENENGAH UMUM
  {
    kode: "MU1",
    kategori: "Menengah Umum",
    bidang: "Ketertiban Umum",
    keterangan: "Keributan / Onar",
    denda: 3200,
    jail: 10,
    impound: 0
  },

  // MENENGAH MINUMAN
  {
    kode: "MM1",
    kategori: "Menengah Minuman",
    bidang: "Minuman Keras",
    keterangan: "Mabuk di Tempat Umum",
    denda: 2500,
    jail: 8,
    impound: 0
  },

  // MENENGAH NARKOTIKA
  {
    kode: "MN1",
    kategori: "Menengah Narkotika",
    bidang: "Narkotika",
    keterangan: "Kepemilikan Obat Terlarang",
    denda: 5000,
    jail: 20,
    impound: 0
  },

  // BERAT
  {
    kode: "B1",
    kategori: "Berat",
    bidang: "Kriminal Berat",
    keterangan: "Perampokan",
    denda: 10000,
    jail: 40,
    impound: 0
  },

  // LALU LINTAS (PAKAI IMPOUND, TANPA PENJARA)
  {
    kode: "LL1",
    kategori: "Lalu Lintas",
    bidang: "Pelanggaran Lalin",
    keterangan: "Melawan Arus",
    denda: 1500,
    jail: 0,
    impound: 2 // hari
  },

  {
    kode: "LL2",
    kategori: "Lalu Lintas",
    bidang: "Pelanggaran Lalin",
    keterangan: "Balap Liar",
    denda: 3000,
    jail: 0,
    impound: 5 // hari
  },


  {
    kode: "LL2",
    kategori: "Lalu Lintas",
    bidang: "Pelanggaran Lalin",
    keterangan: "Balap Liar",
    denda: 3000,
    jail: 0,
    impound: 30
  },

];

let filteredData = pasalData;

// =====================
// ELEMENT
// =====================

const list = document.getElementById("listPasal");
const pagination = document.getElementById("pagination");
const totalDendaEl = document.getElementById("totalDenda");
const totalJailEl = document.getElementById("totalJail");
const totalImpoundEl = document.getElementById("totalImpound");
const listPasalTerpilihEl = document.getElementById("listPasalTerpilih");


const searchInput = document.getElementById("search");
const kategoriSelect = document.getElementById("kategoriFilter");


// =====================
// TAMPILKAN PASAL
// =====================

function tampilkanPasal(data) {

  list.innerHTML = "";

  const start = (currentPage - 1) * itemsPerPage;
  const end = start + itemsPerPage;

  const pageData = data.slice(start, end);

  pageData.forEach((p, index) => {

    const div = document.createElement("div");
    div.className = "pasal";

    div.innerHTML = `
      <input type="checkbox"
       data-index="${index + start}"
       ${selectedPasal.has(index + start) ? "checked" : ""}>

      <div class="info">

        <div class="kode">
          ${p.kode} - ${p.bidang}
        </div>

        <div class="kategori">
          ${p.kategori} | ${p.keterangan}
        </div>

        <div class="harga">
          üí∞ $${p.denda}
          | ‚è±Ô∏è ${p.jail} Bulan
          | üöó ${p.impound} Hari (Impound)
        </div>

      </div>
    `;

      div.addEventListener("click", (e) => {
    if (e.target.tagName !== "INPUT") {
      const checkbox = div.querySelector("input[type='checkbox']");
      checkbox.checked = !checkbox.checked;
      checkbox.dispatchEvent(new Event("change"));
    }
  });

    list.appendChild(div);
  });

  aktifkanCheckbox();
  renderPagination(data.length);
}

function renderPagination(totalItems) {

  const totalPages = Math.ceil(totalItems / itemsPerPage);
  pagination.innerHTML = "";

  // === PREV ===
  const prev = document.createElement("button");
  prev.textContent = "‚óÄ Prev";
  prev.disabled = currentPage === 1;

  prev.onclick = () => {
    currentPage--;
    tampilkanPasal(filteredData);
    list.scrollIntoView({ behavior: "smooth" });
  };

  pagination.appendChild(prev);

  // === NOMOR HALAMAN ===
  for (let i = 1; i <= totalPages; i++) {
    const btn = document.createElement("button");
    btn.textContent = i;

    if (i === currentPage) {
      btn.classList.add("active");
    }

    btn.onclick = () => {
      currentPage = i;
      tampilkanPasal(filteredData);
      list.scrollIntoView({ behavior: "smooth" });
    };

    pagination.appendChild(btn);
  }

  // === NEXT ===
  const next = document.createElement("button");
  next.textContent = "Next ‚ñ∂";
  next.disabled = currentPage === totalPages;

  next.onclick = () => {
    currentPage++;
    tampilkanPasal(filteredData);
    list.scrollIntoView({ behavior: "smooth" });
  };

  pagination.appendChild(next);
}

// =====================
// HITUNG TOTAL
// =====================
function hitung() {
  let totalDenda = 0;
  let totalJail = 0;
  let totalImpound = 0;

  let kodePasal = [];

  selectedPasal.forEach(index => {
    const pasal = pasalData[index];

    totalDenda += pasal.denda;
    totalJail += pasal.jail;
    totalImpound += pasal.impound;

    kodePasal.push(pasal.kode);
  });

  totalDendaEl.textContent = totalDenda.toLocaleString();
  totalJailEl.textContent = totalJail;
  totalImpoundEl.textContent = totalImpound;

  listPasalTerpilihEl.textContent =
    kodePasal.length ? kodePasal.join(", ") : "-";

  // üî• RINGKASAN RO
  const ringkasanEl = document.getElementById("ringkasanText");
  ringkasanEl.textContent = kodePasal.length
    ? `/ro ${kodePasal.join(", ")} | ${totalJail} bulan | $${totalDenda.toLocaleString()}`
    : "-";
}
// =====================
// COPY RO
// =====================
function copyRingkasan() {
  const text = document.getElementById("ringkasanText").textContent;

  if (text === "-" || !text) return;

  navigator.clipboard.writeText(text).then(() => {
    showToast();
  });
}

// =====================
// RESET
// =====================
function resetAll() {
  selectedPasal.clear();
  tampilkanPasal(filteredData);
  hitung();
}

// =====================
// FILTER
// =====================

function filterPasal() {

  const keyword = searchInput.value.toLowerCase();
  const kategori = kategoriSelect.value;

  filteredData = pasalData.filter(p =>

    p.kode.toLowerCase().includes(keyword) ||
    p.keterangan.toLowerCase().includes(keyword) ||
    p.bidang.toLowerCase().includes(keyword)

  );

  if (kategori !== "all") {
    filteredData = filteredData.filter(p => p.kategori === kategori);
  }

  currentPage = 1; // reset ke halaman 1
  tampilkanPasal(filteredData);
}

// =====================
// CHECKBOX EVENT
// =====================

function aktifkanCheckbox() {
  const checkboxes = document.querySelectorAll("input[type='checkbox']");

  checkboxes.forEach(cb => {
    cb.addEventListener("change", () => {
      const index = Number(cb.dataset.index);

      if (cb.checked) {
        selectedPasal.add(index);
      } else {
        selectedPasal.delete(index);
      }

      hitung();
    });
  });
}


// =====================
// INIT
// =====================

searchInput.addEventListener("keyup", filterPasal);
kategoriSelect.addEventListener("change", filterPasal);

tampilkanPasal(pasalData);

</script>

</body>
</html>
